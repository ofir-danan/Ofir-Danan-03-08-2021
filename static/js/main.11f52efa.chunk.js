(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{193:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(15),r=a.n(s),i=a(53),o=a(113),l=a(5),u=(a(193),a(24)),d=a(48),j=a.n(d),p=a(74),h=a(125),f=a(151),b=a(30),O=a(26),m="LOCATION_ID",g="TEMP_UNIT",v="DARK_MODE",x="FAVORITES",y="REMOVE_FAVORITE",w="CITY",I="KEY",S=localStorage.getItem("locationId"),k=localStorage.getItem("unit"),N=localStorage.getItem("city"),M=function(){return"true"===localStorage.getItem("darkMode")},C=JSON.parse(localStorage.getItem("favorites")),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{locationId:S||215854,unit:k||"Metric",city:N||"Tel Aviv",darkMode:M||!1,favorites:C||[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return localStorage.setItem("unit",t.payload),Object(O.a)(Object(O.a)({},e),{},{unit:t.payload});case m:return localStorage.setItem("locationId",t.payload.locationId),localStorage.setItem("city",t.payload.city),Object(O.a)(Object(O.a)({},e),{},{locationId:t.payload.locationId,city:t.payload.city});case v:return localStorage.setItem("darkMode",Boolean(t.payload)),Object(O.a)(Object(O.a)({},e),{},{darkMode:Boolean(t.payload)});case w:return localStorage.setItem("city",t.payload),Object(O.a)(Object(O.a)({},e),{},{city:t.payload});case I:return localStorage.setItem("locationId",t.payload),Object(O.a)(Object(O.a)({},e),{},{locationId:t.payload});case y:var a=e.favorites.filter((function(e,a){return a!==t.payload}));return localStorage.setItem("favorites",JSON.stringify(a)),Object(O.a)(Object(O.a)({},e),{},{favorites:a});case x:var c=[].concat(Object(b.a)(e.favorites),[t.payload]),n=c.filter((function(e,t,a){return t===a.findIndex((function(t){return t.city===e.city&&t.locationId===e.locationId}))}));return localStorage.setItem("favorites",JSON.stringify(n)),Object(O.a)(Object(O.a)({},e),{},{favorites:n});default:return e}},E=Object(h.b)(T,Object(h.a)(f.a)),L=a(60),D=a.n(L),P=a(265),F=a(260),z=a(278),A={1:"https://developer.accuweather.com/sites/default/files/01-s.png",2:"https://developer.accuweather.com/sites/default/files/02-s.png",3:"https://developer.accuweather.com/sites/default/files/03-s.png",4:"https://developer.accuweather.com/sites/default/files/04-s.png",5:"https://developer.accuweather.com/sites/default/files/05-s.png",6:"https://developer.accuweather.com/sites/default/files/06-s.png",7:"https://developer.accuweather.com/sites/default/files/07-s.png",8:"https://developer.accuweather.com/sites/default/files/08-s.png",11:"https://developer.accuweather.com/sites/default/files/11-s.png",12:"https://developer.accuweather.com/sites/default/files/12-s.png",13:"https://developer.accuweather.com/sites/default/files/13-s.png",14:"https://developer.accuweather.com/sites/default/files/14-s.png",15:"https://developer.accuweather.com/sites/default/files/15-s.png",16:"https://developer.accuweather.com/sites/default/files/16-s.png",17:"https://developer.accuweather.com/sites/default/files/17-s.png",18:"https://developer.accuweather.com/sites/default/files/18-s.png",19:"https://developer.accuweather.com/sites/default/files/19-s.png",20:"https://developer.accuweather.com/sites/default/files/20-s.png",21:"https://developer.accuweather.com/sites/default/files/21-s.png",22:"https://developer.accuweather.com/sites/default/files/22-s.png",23:"https://developer.accuweather.com/sites/default/files/23-s.png",24:"https://developer.accuweather.com/sites/default/files/24-s.png",25:"https://developer.accuweather.com/sites/default/files/25-s.png",26:"https://developer.accuweather.com/sites/default/files/26-s.png",29:"https://developer.accuweather.com/sites/default/files/29-s.png",30:"https://developer.accuweather.com/sites/default/files/30-s.png",31:"https://developer.accuweather.com/sites/default/files/31-s.png",32:"https://developer.accuweather.com/sites/default/files/32-s.png",33:"https://developer.accuweather.com/sites/default/files/33-s.png",34:"https://developer.accuweather.com/sites/default/files/34-s.png",35:"https://developer.accuweather.com/sites/default/files/35-s.png",36:"https://developer.accuweather.com/sites/default/files/36-s.png",37:"https://developer.accuweather.com/sites/default/files/37-s.png",38:"https://developer.accuweather.com/sites/default/files/38-s.png",39:"https://developer.accuweather.com/sites/default/files/39-s.png",40:"https://developer.accuweather.com/sites/default/files/40-s.png",41:"https://developer.accuweather.com/sites/default/files/41-s.png",42:"https://developer.accuweather.com/sites/default/files/42-s.png",43:"https://developer.accuweather.com/sites/default/files/43-s.png",44:"https://developer.accuweather.com/sites/default/files/44-s.png"},V=a(4);var W=function(e){var t=e.weather,a=String(new Date(t.Date)).slice(0,15);return Object(V.jsxs)("div",{className:"card weather-data",children:[Object(V.jsx)(F.a,{fontSize:"sm",children:a}),Object(V.jsx)(z.a,{label:"Go to accuweather",placement:"left-start",children:Object(V.jsx)("a",{href:t.Link,children:Object(V.jsx)("img",{src:A[t.Day.Icon],alt:t.Day.IconPhrase})})}),Object(V.jsx)("div",{className:"image-labels",children:Object(V.jsxs)(P.a,{children:[t.Temperature.Minimum.Value,Object(V.jsxs)(F.a,{fontSize:"xl",style:{display:"inline"},children:[t.Temperature.Minimum.Unit,"\xb0"," "]})," ","- ",t.Temperature.Maximum.Value,Object(V.jsxs)(F.a,{fontSize:"xl",style:{display:"inline"},children:[t.Temperature.Maximum.Unit,"\xb0"]})]})}),Object(V.jsxs)(F.a,{fontSize:"xl",children:[t.Day.IconPhrase,"-",t.Night.IconPhrase]})]})},U=a(266),R=(a(147),a(267)),_=a(268),H=function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D()("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat("qHLlj1R0VhP5UsLojnp5ZbAmofbm98kM","&q=").concat(e));case 2:c=t.sent,a({type:m,payload:{locationId:c.data.Key,city:c.data.EnglishName}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return{type:I,payload:e}},B=function(e){return{type:w,payload:e}};var J=function(e){var t=e.currentWeather,a=e.city,n=e.locationId,s=E.getState().unit,r=E.getState().favorites,o=Object(c.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1];Object(c.useEffect)((function(){r.find((function(e){return e.locationId===n}))&&j(!0)}),[r,n]);var p=function(){if(j(!d),d||E.dispatch(function(e){return{type:x,payload:e}}({city:a,locationId:n})),d){var e=r.findIndex((function(e){return e.city===a}));E.dispatch(function(e){return{type:y,payload:e}}(e))}};return Object(V.jsxs)("div",{className:"weather-data",onClick:function(){E.dispatch(q(n)),E.dispatch(B(a))},children:[Object(V.jsx)(z.a,{label:"Go To Accuweather",placement:"left-start",children:Object(V.jsx)("a",{href:t.Link,children:Object(V.jsx)("img",{src:A[t.WeatherIcon],alt:t.WeatherText,className:"weather-icon"})})}),Object(V.jsx)(z.a,{label:"Go To Home Page",placement:"left-start",children:Object(V.jsxs)(i.b,{to:"/",children:[Object(V.jsxs)("div",{className:"image-labels",children:[Object(V.jsxs)(P.a,{children:[t.Temperature[s].Value," ",t.Temperature[s].Unit,"\xb0"]}),Object(V.jsx)(U.a,{colorScheme:t.IsDayTime?"green":"purple",children:t.IsDayTime?"Day":"Night"})]}),Object(V.jsx)(P.a,{children:t.WeatherText}),Object(V.jsxs)("div",{className:"card-footer",children:[Object(V.jsxs)("div",{children:[" ",Object(V.jsxs)(F.a,{children:["City: ",a]})," ",Object(V.jsxs)(F.a,{children:["Location ID: ",n]})]}),d?Object(V.jsx)(R.a,{onClick:p,size:"24",style:{zIndex:2}}):Object(V.jsx)(_.a,{onClick:p,size:"24",style:{zIndex:2}})]})]})})]})},G=a.p+"static/media/loader.df1e3eaf.gif",K="qHLlj1R0VhP5UsLojnp5ZbAmofbm98kM";var Z=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(c.useState)(!0),d=Object(l.a)(u,2),h=d[0],f=d[1],b=E.getState().locationId,O=E.getState().unit,m=E.getState().city;for(Object(c.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(b,"?apikey=").concat(K,"&metric=").concat("Metric"===O));case 2:return t=e.sent,e.next=5,D()("http://dataservice.accuweather.com/currentconditions/v1/".concat(b,"?apikey=").concat(K));case 5:a=e.sent,c=a.data,n(t.data),o(c),f(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f(!0),function(){e.apply(this,arguments)}()}),[O,b]);h;)return Object(V.jsx)("img",{className:"loading",alt:"loader",src:G});return Object(V.jsxs)("div",{className:"body",children:[Object(V.jsxs)(P.a,{as:"h4",size:"md",style:{textAlign:"center"},children:[m,": ",a.Headline.Text]}),Object(V.jsx)("div",{className:"weather-data-home",children:Object(V.jsx)(J,{currentWeather:i[0],city:m,locationId:b})}),Object(V.jsx)("div",{className:"five-days-content",children:a.DailyForecasts.map((function(e,t){return Object(V.jsx)(W,{weather:e},t)}))})]})},Y=a(169),Q="qHLlj1R0VhP5UsLojnp5ZbAmofbm98kM";var X=function(){var e=Object(c.useState)(new Date),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(c.useState)([]),d=Object(l.a)(u,2),h=d[0],f=d[1],b=Object(c.useState)(!0),m=Object(l.a)(b,2),g=m[0],v=m[1],x=Object(c.useState)(!1),y=Object(l.a)(x,2),w=y[0],I=y[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return n(new Date)}),1e3);return function(){clearInterval(e)}}),[]),Object(c.useEffect)((function(){o(E.getState().favorites)}),[]),Object(c.useEffect)((function(){var e=[];function t(e){return a.apply(this,arguments)}function a(){return(a=Object(p.a)(j.a.mark((function e(t){var a,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("http://dataservice.accuweather.com/currentconditions/v1/".concat(t.locationId,"?apikey=").concat(Q));case 2:return a=e.sent,c=a.data,n=c[0],e.abrupt("return",Object(O.a)(Object(O.a)({},t),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h.length<i.length&&!w&&(I(!0),i.forEach(function(){var a=Object(p.a)(j.a.mark((function a(c,n,s){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(c);case 2:r=a.sent,e.push(r),f(e);case 5:case"end":return a.stop()}}),a)})));return function(e,t,c){return a.apply(this,arguments)}}())),h.length===i.length&&h.length>0&&(I(!1),v(!1)),0===i.length&&v(!1)}),[h,i,w]),g?Object(V.jsx)("img",{className:"loading",alt:"loader",src:G}):Object(V.jsx)("div",{className:"body",children:Object(V.jsxs)("div",{className:"favorites",children:[Object(V.jsxs)("div",{className:"clock",children:[Object(V.jsx)("p",{children:"Current time:"}),Object(V.jsx)(Y.a,{value:a})]}),Object(V.jsx)("div",{className:"weather-data",children:h.map((function(e,t){return Object(V.jsx)(J,{currentWeather:e,city:e.city,locationId:e.locationId},t)}))})]})})},$=a.p+"static/media/Weather_logos_transparent.58177856.png",ee=a.p+"static/media/Weather_logos_white.359761b8.png",te=a(262),ae=a(286),ce=a(50),ne=a(282),se=a(270),re=a(287),ie=a(115),oe=a(284),le=a(161);var ue=function(){var e=E.getState(),t=Object(c.useState)(e.unit),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(e.darkMode),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(te.a)(),j=d.isOpen,p=d.onOpen,h=d.onClose;return Object(c.useEffect)((function(){E.dispatch({type:g,payload:n})}),[n]),Object(c.useEffect)((function(){E.dispatch({type:v,payload:o})}),[o]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le.a,{onClick:p,className:"setting-icon"}),Object(V.jsxs)(ae.a,{isOpen:j,placement:"bottom",onClose:h,children:[Object(V.jsx)(ce.f,{}),Object(V.jsxs)(ae.b,{children:[Object(V.jsx)(ce.c,{}),Object(V.jsx)(ce.e,{borderBottomWidth:"1px",children:"Set Your Preferences"}),Object(V.jsx)(ce.b,{children:Object(V.jsxs)(ne.a,{spacing:"24px",children:[Object(V.jsxs)(se.a,{children:[Object(V.jsx)("label",{htmlFor:"darkMode",children:"Dark Mode"}),Object(V.jsx)(re.a,{ml:"10",onChange:function(){return u(!o)},defaultChecked:o,id:"darkMode"})]}),Object(V.jsxs)(se.a,{children:[Object(V.jsx)("label",{htmlFor:"unit",children:"Select Temperature Unit"}),Object(V.jsx)(ie.a,{id:"unit",onChange:function(e){return s(e)},defaultValue:e.unit,children:Object(V.jsxs)(ne.a,{direction:"row",children:[Object(V.jsx)(oe.a,{value:"Metric",children:"C"}),Object(V.jsx)(oe.a,{value:"Imperial",children:"F"})]})})]})]})})]})]})]})},de=a(279),je=a(280),pe=function(){var e=E.getState(),t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(c.useState)([]),j=Object(l.a)(d,2),p=j[0],h=j[1];Object(c.useEffect)((function(){s(e.city)}),[e.city]),Object(c.useEffect)((function(){o&&D()("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("qHLlj1R0VhP5UsLojnp5ZbAmofbm98kM","&q=").concat(o)).then((function(e){var t=e.data.map((function(e){return{name:e.LocalizedName,country:e.Country.LocalizedName,key:e.Key}}));h(t)}))}),[o]);return Object(V.jsx)(je.a,{options:p,getOptionLabel:function(e){return e.name?e.name:""},fullWidth:!0,value:n,onChange:function(e,t){return function(e){e&&(s(e),E.dispatch(q(e.key)),E.dispatch(B(e.name)))}(t)},onInputChange:function(e,t){return u(t)},getOptionSelected:function(e,t){return e.name===t.name||""===e},renderInput:function(e){return Object(V.jsx)(de.a,Object(O.a)(Object(O.a)({},e),{},{value:o,label:"Location",variant:"outlined"}))},renderOption:function(e){return Object(V.jsx)("span",{style:{textTransform:"capitalize"},children:e.name})}})},he=a(164);var fe=function(){var e=Object(u.g)(),t=E.getState(),a=Object(c.useState)(),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r("".concat(e.coords.latitude,",").concat(e.coords.longitude))}))}),[]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(i.b,{to:"/",children:Object(V.jsx)("img",{src:t.darkMode?ee:$,alt:"weather logo",className:"logo"})}),Object(V.jsx)(z.a,{label:"Get Current Location",placement:"left-start",children:Object(V.jsx)(i.b,{to:"/",children:Object(V.jsx)(he.a,{onClick:function(){E.dispatch(H(s))},size:"34",style:{margin:"20px"}})})}),Object(V.jsx)(se.a,{w:"30%",children:Object(V.jsx)(pe,{})}),Object(V.jsxs)("nav",{className:"nav",children:[Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(i.b,{className:"/"===e.pathname?"link current-page":"link",to:"/",children:"Home"})}),Object(V.jsx)("li",{children:Object(V.jsx)(i.b,{className:"/favorites"===e.pathname?"link current-page":"link",to:"/favorites",children:"Favorites"})})]}),Object(V.jsx)(ue,{})]})]})},be=a.p+"static/media/weatherNotFound.da5edaff.png";var Oe=function(){return Object(V.jsx)("div",{children:Object(V.jsx)("img",{src:be,alt:"Page not found"})})};var me=Object(u.h)(Object(o.b)((function(e){return e}))((function(){var e=E.getState(),t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),o=i[0],d=i[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){s("".concat(e.coords.latitude,",").concat(e.coords.longitude))}))}),[]),Object(c.useEffect)((function(){d(Boolean(e.darkMode))}),[e.darkMode]),Object(c.useEffect)((function(){n&&E.dispatch(H(n))}),[n]),Object(V.jsxs)("div",{className:o?"app darkMode":"app",children:[Object(V.jsx)("header",{children:Object(V.jsx)(fe,{})}),Object(V.jsxs)(u.d,{children:[Object(V.jsx)(u.b,{exact:!0,path:"/",component:Z}),Object(V.jsx)(u.b,{path:"/favorites",component:X}),Object(V.jsx)(u.b,{path:"/404",component:Oe}),Object(V.jsx)(u.a,{to:"/404"})]})]})}))),ge=a(281),ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,289)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(V.jsx)(n.a.StrictMode,{children:Object(V.jsx)(i.a,{children:Object(V.jsx)(o.a,{store:E,children:Object(V.jsx)(ge.a,{children:Object(V.jsx)(me,{})})})})}),document.getElementById("root")),ve()}},[[216,1,2]]]);
//# sourceMappingURL=main.11f52efa.chunk.js.map